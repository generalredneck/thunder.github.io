<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.33">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/thunder.svg"><title>Update Thunder 3 -> Thunder 6 | Thunder</title><meta name="description" content="Thunder is a Drupal distribution for professional publishers.">
    <link rel="modulepreload" href="/assets/app.e4b5da82.js"><link rel="modulepreload" href="/assets/migrate-3-6.html.0acfa165.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/migrate-3-6.html.b64890ab.js">
    <link rel="stylesheet" href="/assets/style.f03665c5.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><svg class="logo" version="1.1" id="Ebene_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 492 110.7" enable-background="new 0 0 492 110.7" xml:space="preserve"><g><path class="light" fill="#009FE3" d="M26.9,107c1.9,0.3,3.9,0.5,5.7,0.6c1.9,0.1,3.7,0.1,5.3,0.1c1.6,0,3.3-0.1,5.1-0.2c1.7-0.1,3.5-0.3,5.2-0.5
		V20.5h26c0.6-2.9,0.9-6,0.9-9.2c0-3-0.3-6-0.9-8.9H0.9C0.3,5.4,0,8.3,0,11.3c0,3.2,0.3,6.3,0.9,9.2h26V107L26.9,107z M80.9,107.2
		c1.7,0.3,3.5,0.5,5.2,0.6c1.7,0.1,3.4,0.1,5,0.1c1.6,0,3.3,0,5.1-0.1c1.7-0.1,3.5-0.3,5.2-0.6V67.6c0-4.1,0.5-7.4,1.4-9.9
		c0.9-2.5,2.1-4.5,3.5-5.9c1.4-1.4,3-2.4,4.7-2.8c1.7-0.5,3.4-0.7,5.1-0.7c4,0,6.8,1.4,8.4,4.2c1.6,2.8,2.5,6.8,2.5,12.1v42.6
		c1.7,0.3,3.5,0.5,5.2,0.6c1.7,0.1,3.4,0.1,5.1,0.1c1.6,0,3.3,0,5.1-0.1c1.7-0.1,3.5-0.3,5.2-0.6V59c0-10-2.2-17.3-6.5-22
		c-4.3-4.7-10.6-7-19-7c-3,0-5.7,0.4-8,1.2c-2.3,0.8-4.3,1.7-6,2.8c-1.6,1.1-3,2.3-4.1,3.5c-1.1,1.2-2,2.3-2.7,3.1V2
		c-1.7-0.3-3.5-0.5-5.2-0.6c-1.7-0.1-3.4-0.1-5.1-0.1c-1.7,0-3.3,0-5.1,0.1c-1.7,0.1-3.4,0.3-5.1,0.6V107.2L80.9,107.2z M337.8,31.6
		c-1.7-0.5-3.6-0.8-5.5-0.9c-1.9-0.1-3.7-0.2-5.5-0.2c-5.8,0-11.1,1-15.9,3.1c-4.8,2.1-8.8,4.9-12.1,8.5c-3.3,3.6-5.9,7.8-7.7,12.7
		c-1.8,4.9-2.7,10.1-2.7,15.6c0,7,1,12.9,3.1,17.7c2.1,4.8,4.9,8.8,8.5,11.9c3.6,3.1,7.7,5.3,12.4,6.7c4.7,1.4,9.6,2.1,14.8,2.1
		c6.7,0,12.4-0.4,17.1-1.1c4.7-0.7,9.3-1.8,13.9-3.1V0.7c-1.7-0.3-3.5-0.5-5.2-0.6C351.3,0,349.6,0,348,0c-1.6,0-3.3,0-5,0.1
		c-1.7,0.1-3.4,0.3-5.2,0.6V31.6L337.8,31.6z M337.8,90.6c-1.6,0.5-3.2,0.8-4.5,0.9c-1.4,0.1-2.9,0.2-4.5,0.2
		c-2.7,0-5.2-0.4-7.6-1.1c-2.3-0.7-4.3-1.9-6-3.6c-1.7-1.6-3-3.9-4-6.6c-1-2.8-1.5-6.1-1.5-10.1c0-3.2,0.4-6.3,1.1-9.2
		c0.7-3,1.9-5.5,3.4-7.7c1.6-2.2,3.5-3.9,5.9-5.2c2.4-1.3,5.2-2,8.4-2c1.8,0,3.4,0.1,4.6,0.2c1.2,0.1,2.8,0.5,4.7,0.9V90.6
		L337.8,90.6z M435.2,75.8c0.2-1.1,0.4-2.5,0.5-4.3c0.1-1.8,0.2-3.6,0.2-5.5c0-5-0.7-9.8-2.2-14.2c-1.5-4.4-3.6-8.2-6.5-11.4
		c-2.9-3.2-6.3-5.7-10.4-7.6c-4.1-1.8-8.7-2.8-14-2.8c-6,0-11.3,1-15.8,3.1c-4.5,2.1-8.3,4.9-11.3,8.5c-3.1,3.6-5.4,7.8-6.9,12.7
		c-1.6,4.9-2.3,10-2.3,15.6c0,5.6,0.8,10.8,2.3,15.6c1.5,4.8,3.8,8.8,7,12.3c3.1,3.4,7.2,6.1,12.2,8.1c5,1.9,13.8,2.9,20.8,2.9
		c9.5,0,15.2-1.5,22.8-4.4c-0.1-3.1-0.5-6-1.3-8.7c-0.8-2.7-1.7-5-2.8-7c-3.1,1.2-6.4,2.1-9.8,2.7c-3.4,0.6-6.8,0.9-10.1,0.9
		c-6,0-10.9-1.3-14.5-3.9c-3.7-2.6-5.7-6.8-6.1-12.7H435.2L435.2,75.8z M387.1,61.4c0.5-4.9,2-8.8,4.5-11.5
		c2.5-2.7,6.2-4.1,11.1-4.1c4.3,0,7.6,1.4,10,4.3c2.4,2.9,3.7,6.6,3.9,11.3H387.1L387.1,61.4z M446.6,107.2c1.8,0.3,3.6,0.5,5.3,0.6
		c1.7,0.1,3.4,0.1,5,0.1c1.6,0,3.3,0,5.1-0.1c1.7-0.1,3.5-0.3,5.2-0.6V71.4c0-5.2,0.6-9.3,1.8-12.2c1.2-2.9,2.7-5.1,4.6-6.5
		c1.8-1.5,3.8-2.4,5.8-2.7c2-0.3,3.9-0.5,5.5-0.5c0.3,0,1.1,0,2.4,0c1.3,0,2.5,0.1,3.6,0.3c0.4-1.7,0.7-3.6,0.8-5.5
		c0.1-1.9,0.2-3.7,0.2-5.4c0-1.4,0-2.7-0.1-3.9c-0.1-1.3-0.2-2.4-0.4-3.3c-0.6-0.2-1.5-0.3-2.8-0.4c-1.3-0.1-2.4-0.1-3.3-0.1
		c-4.7,0-8.5,1.2-11.6,3.6c-3.1,2.4-5.7,5.1-7.9,8.1c-0.1-0.7-0.2-1.5-0.4-2.5c-0.1-1-0.3-2-0.5-3.1c-0.2-1-0.4-2-0.7-2.9
		c-0.2-0.9-0.5-1.6-0.8-2.1c-1.4-0.3-2.7-0.5-4.1-0.7c-1.4-0.2-2.8-0.3-4.3-0.3c-1.6,0-3,0.1-4.3,0.2s-2.7,0.4-4.1,0.7V107.2
		L446.6,107.2z"></path><path class="dark" fill="#A2DAF8" d="M244.6,110.5c-20.6,0-30.4-12.3-32.5-17.1c-1.8-4.4-2.8-10-3-17l0,0v-2c0-0.1,0-0.3,0-0.4v-7
		c0-3.8-0.3-7-0.9-9.5c-0.6-2.6-1.6-4.6-2.9-6.1c-1.3-1.5-2.9-2.6-4.9-3.2c-1.9-0.6-4.2-0.9-6.8-0.9c-2.6,0-4.9,0.3-6.8,0.9
		c-1.9,0.6-3.6,1.7-4.9,3.2c-1.3,1.5-2.3,3.5-2.9,6.1c-0.6,2.6-0.9,5.8-0.9,9.8v39.8c-0.1,0-0.2,0-0.3,0c-3.4,0-6.5-8.3-9.8-8.3
		c-3.4,0-7-22.9-10.5-23.5v-8.6c0-8,1-14.5,3.1-19.3c2-4.8,10.4-8.5,13.9-11c3.4-2.5,6.9-6.1,19.9-6.1c20.6,0,30.4,12.3,32.5,17.1
		c1.8,4.4,2.8,10,3,17l0,0v2c0,0.1,0,0.3,0,0.4v7c0,3.8,0.3,7,0.9,9.5c0.6,2.6,1.6,4.6,2.9,6.1c1.3,1.5,2.9,2.6,4.9,3.2
		c1.9,0.6,4.2,0.9,6.8,0.9c2.6,0,4.9-0.3,6.8-0.9c1.9-0.6,3.6-1.7,4.9-3.2c1.3-1.5,2.3-3.5,2.9-6.1c0.6-2.6,0.9-5.8,0.9-9.8V33.7
		c0.1,0,0.2,0,0.3,0c3.4,0,6.5,8.3,9.8,8.3c3.4,0,7,22.9,10.5,23.5v8.6c0,8-1,14.5-3.1,19.3c-2,4.8-10.4,8.5-13.9,11
		C261,107,257.6,110.5,244.6,110.5"></path><path class="light" fill="#009FE3" d="M281.4,107V66.6c0-8-1-14.5-3.1-19.3c-2-4.8-4.8-8.5-8.2-11c-3.4-2.5-7.4-4.2-12-4.9
		c-4.1-0.7-8.5-1-12.9-1.1c-4.5,0.1-8.8,0.4-12.9,1.1c-4.6,0.8-8.6,2.4-12,4.9c-3.4,2.5-6.2,6.2-8.2,11c-2,4.8-3.1,11.3-3.1,19.3V74
		c0,3.8-0.3,7-0.9,9.5c-0.6,2.6-1.6,4.6-2.9,6.1c-1.3,1.5-2.9,2.6-4.9,3.2c-1.9,0.6-4.2,0.9-6.8,0.9c-2.6,0-4.9-0.3-6.8-0.9
		c-1.9-0.6-3.6-1.7-4.9-3.2c-1.3-1.5-2.3-3.5-2.9-6.1c-0.6-2.6-0.9-5.8-0.9-9.8V33.9c-3.5-0.6-6.9-0.9-10.3-0.9
		c-3.4,0-6.8,0.3-10.3,0.9v40.4c0,8,1,14.5,3.1,19.3c2,4.8,4.8,8.5,8.2,11c3.4,2.5,7.4,4.2,12,4.9c4.1,0.7,8.5,1,12.9,1.1
		c4.5-0.1,8.8-0.4,12.9-1.1c4.6-0.8,8.6-2.4,12-4.9c3.4-2.5,6.2-6.2,8.2-11c1.9-4.4,2.9-10.3,3-17.4l0,0v-1.5c0-0.1,0-0.3,0-0.4l0,0
		v-7.1c0-4,0.3-7.2,0.9-9.8c0.6-2.6,1.6-4.6,2.9-6.1c1.3-1.5,2.9-2.6,4.9-3.2c1.9-0.6,4.2-0.9,6.8-0.9c2.6,0,4.9,0.3,6.8,0.9
		c1.9,0.6,3.6,1.7,4.9,3.2c1.3,1.5,2.3,3.5,2.9,6.1c0.6,2.6,0.9,5.8,0.9,9.8V107c3.5,0.6,6.9,0.9,10.3,0.9
		C274.5,107.9,277.9,107.6,281.4,107L281.4,107z"></path></g></svg><span class="site-name can-hide">Thunder</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/user-guide/feature-overview.html" class="" aria-label="User Guide"><!--[--><!--]--> User Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/developer-guide/setup.md" class="" aria-label="Developer Guide"><!--[--><!--]--> Developer Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/contributing.md" class="" aria-label="Contribute"><!--[--><!--]--> Contribute <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://thunder.org" rel="noopener noreferrer" target="_blank" aria-label="Thunder.org"><!--[--><!--]--> Thunder.org <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/thunder/thunder-distribution" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/user-guide/feature-overview.html" class="" aria-label="User Guide"><!--[--><!--]--> User Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/developer-guide/setup.md" class="" aria-label="Developer Guide"><!--[--><!--]--> Developer Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/contributing.md" class="" aria-label="Contribute"><!--[--><!--]--> Contribute <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://thunder.org" rel="noopener noreferrer" target="_blank" aria-label="Thunder.org"><!--[--><!--]--> Thunder.org <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/thunder/thunder-distribution" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/developer-guide/setup.html" class="sidebar-item sidebar-heading" aria-label="Setup Thunder"><!--[--><!--]--> Setup Thunder <!--[--><!--]--></a><!----></li><li><p class="sidebar-item sidebar-heading">Operating <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/developer-guide/operating/varnish.html" class="sidebar-item" aria-label="Tag-based cache invalidation for Varnish"><!--[--><!--]--> Tag-based cache invalidation for Varnish <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/developer-guide/testing.html" class="sidebar-item sidebar-heading" aria-label="Testing"><!--[--><!--]--> Testing <!--[--><!--]--></a><!----></li><li><a href="/developer-guide/headless.html" class="sidebar-item sidebar-heading" aria-label="Headless API"><!--[--><!--]--> Headless API <!--[--><!--]--></a><!----></li><li><p class="sidebar-item sidebar-heading active">Migration <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/developer-guide/migration/migrate-3-6.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Update Thunder 3 -&gt; Thunder 6"><!--[--><!--]--> Update Thunder 3 -&gt; Thunder 6 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/developer-guide/migration/migrate-3-6.html#prerequisites" class="router-link-active router-link-exact-active sidebar-item" aria-label="Prerequisites"><!--[--><!--]--> Prerequisites <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/developer-guide/migration/migrate-3-6.html#drupal-9-compatibility" class="router-link-active router-link-exact-active sidebar-item" aria-label="Drupal 9 compatibility"><!--[--><!--]--> Drupal 9 compatibility <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/developer-guide/migration/migrate-3-6.html#check-compatibility-by-running-tests" class="router-link-active router-link-exact-active sidebar-item" aria-label="Check compatibility by running tests"><!--[--><!--]--> Check compatibility by running tests <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/developer-guide/migration/migrate-3-6.html#composer-adjustments" class="router-link-active router-link-exact-active sidebar-item" aria-label="Composer adjustments"><!--[--><!--]--> Composer adjustments <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/developer-guide/migration/migrate-3-6.html#execute-the-update" class="router-link-active router-link-exact-active sidebar-item" aria-label="Execute the update"><!--[--><!--]--> Execute the update <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/developer-guide/migration/migrate-2-3.html" class="sidebar-item" aria-label="Update Thunder 2 -&gt; Thunder 3"><!--[--><!--]--> Update Thunder 2 -&gt; Thunder 3 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p class="sidebar-item sidebar-heading">Changelogs <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/changelog/6.3.x" class="sidebar-item" aria-label="Changelog 6.3.x"><!--[--><!--]--> Changelog 6.3.x <!--[--><!--]--></a><!----></li><li><a href="/changelog/6.2.x" class="sidebar-item" aria-label="Changelog 6.2.x"><!--[--><!--]--> Changelog 6.2.x <!--[--><!--]--></a><!----></li><li><a href="/changelog/6.1.x" class="sidebar-item" aria-label="Changelog 6.1.x"><!--[--><!--]--> Changelog 6.1.x <!--[--><!--]--></a><!----></li><li><a href="/changelog/6.0.x" class="sidebar-item" aria-label="Changelog 6.0.x"><!--[--><!--]--> Changelog 6.0.x <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="update-thunder-3-thunder-6" tabindex="-1"><a class="header-anchor" href="#update-thunder-3-thunder-6" aria-hidden="true">#</a> Update Thunder 3 -&gt; Thunder 6</h1><h2 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites" aria-hidden="true">#</a> Prerequisites</h2><p>These are the instructions to manually update your existing Thunder 3 installation to Thunder 6 including Drupal 9. If you want to do a fresh installation of thunder please visit <a href="/developer-guide/setup.html#install-thunder" class="">install Thunder</a>.</p><p><strong>The most important change is that we removed the support for AMP and Facebook Instant Articles, because none of them support Drupal 9 currently. If you rely on one of these modules, we recommend that you stay on Thunder 3.5 for now.</strong></p><p>You have to make sure that your Thunder 3 project and all its dependencies are fully updated to the most current versions. Run the following command in your docroot:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>drush ev <span class="token string">&quot;print drupal_get_installed_schema_version(&#39;thunder&#39;) . PHP_EOL;&quot;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>This should print the number 8309 or greater. If that is not the case, update your project.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>
<span class="token function">composer</span> update
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>This should update to Thunder 8.3.5 or greater.</p><p>Now run database updates:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> docroot
drush updb
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>You should at least see the Thunder 8308 schema update. If not, double check that the correct version of Thunder is installed, and that <code>drush updb</code> did not throw any errors.</p><p>Before you start with the code and database update please disable the libraries module. The libraries module is not Drupal 9 compatible and its most used functionality is now part of Drupal core. It is therefore not needed anymore. If you use other contrib modules that require the libraries module, please check if these modules support the new core functionality. See <a href="https://www.drupal.org/node/3099614" target="_blank" rel="noopener noreferrer">https://www.drupal.org/node/3099614<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>drush pmu libraries
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>The thunder_riddle module was removed from the distribution as well. Make sure you disable the module, before you start the update process.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>drush pmu thunder_riddle
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Since the riddle_marketplace module will not be required by Thunder anymore, you need to add it to your own composer.json.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">composer</span> require drupal/riddle_marketplace
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="drupal-9-compatibility" tabindex="-1"><a class="header-anchor" href="#drupal-9-compatibility" aria-hidden="true">#</a> Drupal 9 compatibility</h2><p>Because Thunder 6 is based on Drupal 9, check your compatibility before your run the upgrade.</p><p>Drupal.org provides a good documentation for that: <a href="https://www.drupal.org/docs/upgrading-drupal/how-to-prepare-your-drupal-7-or-8-site-for-drupal-9" target="_blank" rel="noopener noreferrer">https://www.drupal.org/docs/upgrading-drupal/how-to-prepare-your-drupal-7-or-8-site-for-drupal-9<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><h3 id="check-compatibility-by-running-tests" tabindex="-1"><a class="header-anchor" href="#check-compatibility-by-running-tests" aria-hidden="true">#</a> Check compatibility by running tests</h3><p>If your test suite is based on Drupal tests, e.g. Functional or FunctionalJavascript, you can configure your tests to fail when calling deprecated code.</p><p>Add the following line to your phpunit.xml file and run your tests.</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>env</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SYMFONY_DEPRECATIONS_HELPER<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>strict<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>If your test suite is based on Behat, <a href="https://github.com/caciobanu/behat-deprecation-extension" target="_blank" rel="noopener noreferrer">https://github.com/caciobanu/behat-deprecation-extension<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> might be interesting for finding deprecated code.</p><h2 id="composer-adjustments" tabindex="-1"><a class="header-anchor" href="#composer-adjustments" aria-hidden="true">#</a> Composer adjustments</h2><p>We removed some modules from our codebase. If you are using one of below mentioned modules, please require them manually for your project.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">composer</span> require drupal/entity --no-update

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="execute-the-update" tabindex="-1"><a class="header-anchor" href="#execute-the-update" aria-hidden="true">#</a> Execute the update</h2><p>All you need to do now is:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">composer</span> require thunder/thunder-distribution:~6.0@STABLE --no-update
<span class="token function">composer</span> update

drush updb
drush cr
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/thunder/thunder-distribution/edit/6.3.x/docs/developer-guide/migration/migrate-3-6.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/developer-guide/migration/migrate-2-3.html" class="" aria-label="Update Thunder 2 -&gt; Thunder 3"><!--[--><!--]--> Update Thunder 2 -&gt; Thunder 3 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.e4b5da82.js" defer></script>
  </body>
</html>
